<ion-header no-border>
    <ion-toolbar color="white">
      <ion-buttons start>
          <button ion-button clear (click)="returnToBooks()"> <img class="viewBooksButton"  src="assets/imgs/ui/books.svg" /></button>
      </ion-buttons>
        <h4 class="bookTitle">{{ selectedBook.name }}</h4>
        <ion-buttons end>
          <button (click)="toggleMenu()" ion-button><img src="assets/imgs/ui/funnel-39.svg" /></button>
        </ion-buttons>
    </ion-toolbar>
    <ion-toolbar color="grey" class="submenu" *ngIf="showMenu">
          <ion-grid>
            <ion-row>
              <ion-col col-6>
                <ion-label stacked>Chapter</ion-label>
                <ion-select class="filter" [(ngModel)]="chapter">
                  <ion-option value= -1 >Entire book</ion-option>
                  <ion-option *ngFor="let chapter of placeholderBookChapters" [value]="chapter-1">Chapter {{ chapter }} </ion-option>
                </ion-select>
              </ion-col>
              <ion-col col-6>
                  <ion-label stacked>Choose page mode</ion-label>
                  <ion-row>
                    <ion-col col-2><div class="black" (click)="darkMode()">T</div></ion-col>
                    <ion-col col-2><div class="white" (click)="lightMode()">T</div></ion-col>
                  </ion-row>
              </ion-col>
            </ion-row>
          </ion-grid>     
    </ion-toolbar>
  </ion-header>
<ion-content padding [ngClass]="light ? 'lightMode' : 'darkMode'">
  <div class="container" *ngIf="chapter == -1; else filter">
    <div *ngFor="let chapter of selectedBook.chapters; let chapterNumber = index">
      <p class="chapterNumber">Chapter {{chapterNumber +1 }}</p>
      <ng-container class="chapter" *ngFor="let verse of chapter; let verseNumber = index">
        <p class="verse">
          <span class="verseNumber">{{ verseNumber +1 }}</span>
          {{ verse }}
        </p>
      </ng-container>
    </div>
  </div>
  <ng-template #filter>
      <div>
          <p class="chapterNumber">Chapter {{ chapter+1 }}</p>
          <ng-container class="chapter" *ngFor="let verse of filteredChapter; let verseNumber = index">
            <p>
              <span class="verseNumber">{{ verseNumber +1 }}</span>
              {{ verse }}
            </p>
          </ng-container>
        </div>
  </ng-template>
</ion-content>
