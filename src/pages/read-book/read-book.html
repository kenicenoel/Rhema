<ion-header no-border>
    <ion-toolbar color="white">
      <ion-buttons start>
          <button ion-button clear (click)="returnToBooks()"> <img class="viewBooksButton"  src="assets/imgs/ui/books.svg" /></button>
      </ion-buttons>
        <h4 class="bookTitle">{{ bookName }}</h4>
        <ion-buttons end>
          <button (click)="toggleMenu()" ion-button><img src="assets/imgs/ui/bolt.svg" /></button>
        </ion-buttons>
    </ion-toolbar>
    <ion-toolbar color="secondary" class="submenu" *ngIf="showMenu">
          <ion-grid>
            <ion-row>
              <ion-col col-6>
                <ion-label stacked>Chapter</ion-label>
                <ion-select class="filter" [(ngModel)]="chapter">
                    <ion-option value= -1 >Entire book</ion-option>
                  <ng-container *ngFor="let verse of verses; let i=index">
                      <ion-option  *ngIf="i == 0 || verses[i-1].chapter != verses[i].chapter" [value]="verse.chapter">Chapter {{ verse.chapter }} </ion-option>
                  </ng-container>
                </ion-select>
              </ion-col>
              <ion-col col-6>
                  <ion-label stacked>Choose page mode</ion-label>
                  <ion-row>
                    <ion-col col-2><ion-badge (click)="darkMode()" color="dark">T</ion-badge></ion-col>
                    <ion-col col-2><ion-badge (click)="lightMode()" color="light">T</ion-badge></ion-col>
                  </ion-row>
              </ion-col>
            </ion-row>
          </ion-grid>     
    </ion-toolbar>
  </ion-header>
<ion-content padding [ngClass]="light ? 'lightMode' : 'darkMode'">
  <div class="container" *ngIf="chapter == -1; else filter">
    <div *ngFor="let verse of verses; let i = index">
        <ng-container>
            <p class="chapterNumber" *ngIf="i == 0 || verses[i-1].chapter != verses[i].chapter">Chapter {{ verse.chapter }}</p>
            <ng-container class="chapter">
              <p class="verse">
                <span class="verseNumber">{{ verse.verse }}</span>
                {{ verse.text }}
              </p>
            </ng-container>
        </ng-container>
     
    </div>
  </div>
  <ng-template #filter>
      <div>
          <p class="chapterNumber">Chapter {{ chapter }}</p>
          <ng-container class="chapter" *ngFor="let verse of filteredVerses">
            <p>
              <span class="verseNumber">{{ verse.verse }}</span>
              {{ verse.text }}
            </p>
          </ng-container>
        </div>
  </ng-template>
</ion-content>
